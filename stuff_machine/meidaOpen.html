<script>
  function selectWindow(windowToSelect) {
    $(windowToSelect).addClass('front');
    $('.window').not(windowToSelect).removeClass('front');
    $(windowToSelect)
      .find('.window-controls')
      .css('box-shadow', '0px 5px 30px #f2c94d inset');
    $('.window')
      .not(windowToSelect)
      .find('.window-controls')
      .css('box-shadow', 'none');
  }
  function mediaOpen(type, clipToPlay) {
    $('#audio-viewer').hide();
    $('#video-viewer').hide();
    $('#image-viewer').hide();
    $('#audio-clip').attr('src', '');
    $('#video-clip').attr('src', '');
    $('#media-viewer').fadeIn(100);
    var randomLeft = Math.random() * $(window).width();
    var randomTop = Math.random() * $(window).height();
    if (
      randomLeft > $(window).width() / 2 ||
      randomTop > $(window).height() / 2
    ) {
      randomLeft /= 3;
      randomTop /= 3;
    }
    $('#media-viewer').css({ left: randomLeft, top: randomTop });
    var lastPart = clipToPlay.split('/').pop();
    $('#media-viewer').find('.window-header-text').html(lastPart);
    selectWindow('#media-viewer');
    if (type == 'audio') {
      $('#audio-viewer').show();
      $('#audio-clip').attr('src', clipToPlay);
    }
    if (type == 'video') {
      $('#video-viewer').show();
      $('#video-clip').attr('src', clipToPlay);
    }
    if (type == 'image') {
      $('#image-viewer').show();
      $('#image-clip').attr('src', clipToPlay);
    }
  }
</script>
